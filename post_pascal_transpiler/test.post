rec A {
    //b: [int]
    i: int
}

fn test 
    arr = [A]
    arr_set_len(arr, 1000_000)
    for arr {
        a = A {}
        a.i = idx
        arr[idx] = a
    }
    ret arr
end 

fn test1
    i = 0
    loop {
        i = i + 1
        if i > 100 do break
        a = test()
        log(i, arr_last(a).i)
    }
end 

fn run
    test1()
    log('done')
    readln()
    //b = test()
end
